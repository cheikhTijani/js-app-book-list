{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-2b59c5a0e21b5834.js","node_modules/@parcel/runtime-js/lib/runtime-fac7744b74de4644.js","node_modules/@parcel/runtime-js/lib/runtime-9a0efa7640bb805d.js","node_modules/@parcel/runtime-js/lib/runtime-f543bd1bb50550bc.js","node_modules/@parcel/runtime-js/lib/runtime-b9493adcd18f2db0.js","src/script.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1jvon\\\":\\\"index.aa4a366f.js\\\",\\\"bqmA8\\\":\\\"check-circle.1f2cf466.svg\\\",\\\"iO0dY\\\":\\\"hourglass.4b16d1c6.svg\\\",\\\"6KaV1\\\":\\\"pencil-square.2ffc889c.svg\\\",\\\"eWAdG\\\":\\\"trash.5a41c71e.svg\\\"}\"));","module.exports = require('./helpers/bundle-url').getBundleURL('1jvon') + require('./helpers/bundle-manifest').resolve(\"bqmA8\");","module.exports = require('./helpers/bundle-url').getBundleURL('1jvon') + require('./helpers/bundle-manifest').resolve(\"iO0dY\");","module.exports = require('./helpers/bundle-url').getBundleURL('1jvon') + require('./helpers/bundle-manifest').resolve(\"6KaV1\");","module.exports = require('./helpers/bundle-url').getBundleURL('1jvon') + require('./helpers/bundle-manifest').resolve(\"eWAdG\");","'use strict';\r\nimport doneIcon from './assets/icons/check-circle.svg';\r\nimport waitIcon from './assets/icons/hourglass.svg';\r\nimport editIcon from './assets/icons/pencil-square.svg';\r\nimport deleteIcon from './assets/icons/trash.svg';\r\n\r\n// Get DOM General elements\r\nconst addBookForm = document.querySelector('.add-book');\r\nconst updateBookForm = document.querySelector('.update-book');\r\nconst cancelUpdateBtn = document.querySelector('.cancel-update');\r\nconst formAlert = document.querySelector('.alert');\r\nconst bookList = document.querySelector('.book-list');\r\nconst confirmDelBtn = document.getElementsByClassName('confirmDelBtn')[0];\r\nconst booksLeftEl = document.querySelector('.books-left');\r\nlet booksCount = document.getElementsByClassName('book-row');\r\n\r\n\r\n// Book constructor\r\nclass Book {\r\n    constructor(title, author, genres, count) {\r\n        this.title = title;\r\n        this.author = author;\r\n        this.genres = genres;\r\n        this.count = count;\r\n    }\r\n}\r\n\r\n// BookUI constructor\r\nclass BookUI {\r\n    // methods\r\n\r\n    // render book to DOM\r\n    addBookToList(book) {\r\n        // create tr\r\n        const row = document.createElement('tr');\r\n        row.classList = 'book-row';\r\n        row.id = `book-row-${book.count}`;\r\n        // insert cols\r\n        row.innerHTML = `\r\n            <td>${book.title}</td>\r\n            <td>${book.author}</td>\r\n            <td>${book.genres}</td>\r\n            <td class=\"countdown-${book.count}\"></td>\r\n            <td>\r\n                <a class=\"d-none text-decoration-none text-dark fw-bold\" href=\"#\" title=\"update\">\r\n                    <img src=${editIcon} class=\"updateBook\" alt=\"update icon\">\r\n                </a>\r\n                &nbsp;\r\n                <a class=\"d-none text-decoration-none text-dark fw-bold\" data-bs-toggle=\"modal\" data-bs-target=\"#confirmDelete\" href=\"#\" title=\"delete\">\r\n                    <img src=${deleteIcon} class=\"deleteBook\" alt=\"Delete icon\">\r\n                </a>\r\n            </td>\r\n            `;\r\n        bookList.appendChild(row);\r\n\r\n        // timer\r\n        this.bookTimer(5, 1000);\r\n\r\n        // update books count\r\n        this.UpdateBookCount();\r\n\r\n        // hide form\r\n        addBookForm.classList.add('d-none');\r\n\r\n        return this;\r\n    }\r\n\r\n    // show messages UI\r\n    showMsg(status, msg = '') {\r\n        if (status === 'error') {\r\n            formAlert.textContent = msg;\r\n            formAlert.classList.add('alert-danger');\r\n            formAlert.classList.remove('d-none');\r\n        }\r\n        if (status === 'clear') {\r\n            formAlert.textContent = msg;\r\n            formAlert.classList.remove('alert-danger', 'alert-success');\r\n            formAlert.classList.add('d-none');\r\n        }\r\n        if (status === 'success') {\r\n            formAlert.textContent = msg;\r\n            formAlert.classList.add('alert-success');\r\n            formAlert.classList.remove('d-none');\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    // remove book from UI\r\n    removeBook(target) {\r\n        if (target.classList.contains('deleteBook')) {\r\n            // listen to confirm delete\r\n            confirmDelBtn.addEventListener('click', () => {\r\n                target.closest('tr').remove();\r\n                // remove from LS\r\n                Store.removeBook(target.closest('tr').id.split('-')[2]);\r\n                // show confirmation msg\r\n                this.showMsg('success', 'Book successfully deleted');\r\n                setTimeout(() => this.showMsg('clear'), 2000);\r\n                this.UpdateBookCount();\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    // book count update\r\n    UpdateBookCount() {\r\n        booksCount = document.getElementsByClassName('book-row');\r\n        const booksLeft = 36 - booksCount.length;\r\n        booksLeftEl.textContent = `${booksLeft} ${booksLeft !== 1 ? 'books' : 'book'} left`;\r\n        return this;\r\n    }\r\n\r\n    // get deatils\r\n    getDetails(bookRow, id) {\r\n        // get row text content\r\n        const title = bookRow.children[0].textContent;\r\n        const author = bookRow.children[1].textContent;\r\n        const genres = bookRow.children[2].textContent;\r\n        // put them in the update form\r\n        document.getElementById('titleUp').value = title;\r\n        document.getElementById('authorUp').value = author;\r\n        document.getElementById('genresUp').value = genres;\r\n        document.getElementById('book-hidden-id').value = id;\r\n        return this;\r\n    }\r\n\r\n    bookTimer(daysLeft, delay) {\r\n        booksCount = document.getElementsByClassName('book-row');\r\n        const daysLeftEl = booksCount[booksCount.length - 1].children[3];\r\n        // let daysLeft = 5;\r\n        // let delay = 86400000; // 1 day in milliseconds\r\n        // let delay = 1000;\r\n        countDown();\r\n        let timer = setInterval(countDown, delay);\r\n\r\n        function countDown() {\r\n            if (daysLeft > 0) {\r\n                daysLeftEl.textContent = `${daysLeft} ${daysLeft !== 1 ? 'days' : 'day'} left`;\r\n                --daysLeft;\r\n            } else {\r\n                clearInterval(timer);\r\n                timer = null;\r\n                daysLeftEl.innerHTML = `\r\n                    <a class=\"text-decoration-none text-dark fw-bold\" href=\"#\" title=\"Done\">\r\n                        <img src=${doneIcon} class=\"bookDone\" alt=\"done icon\">\r\n                    </a>\r\n                    &nbsp;\r\n                    <a class=\"text-decoration-none text-dark fw-bold\" href=\"#\" title=\"More time\">\r\n                    <img src=${waitIcon} class=\"wait\" alt=\"wait icon\">\r\n                    </a>`;\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\n\r\n\r\n// LOCAL STORAGE\r\nclass Store {\r\n    static getBooks() {\r\n        let books;\r\n        if (!localStorage.getItem('books')) {\r\n            books = [];\r\n        } else {\r\n            books = JSON.parse(localStorage.getItem('books'))\r\n        }\r\n        return books;\r\n    }\r\n    static displayBooks() {\r\n        const books = Store.getBooks();\r\n\r\n        books.forEach((book) => {\r\n            // create tr\r\n            const row = document.createElement('tr');\r\n            row.classList = 'book-row';\r\n            row.id = `book-row-${book.count}`;\r\n            // insert cols\r\n            row.innerHTML = `\r\n                <td>${book.title}</td>\r\n                <td>${book.author}</td>\r\n                <td>${book.genres}</td>\r\n                <td class=\"countdown-${book.count}\">Done</td>\r\n                <td>\r\n                    <a class=\"text-decoration-none text-dark fw-bold\" href=\"#\" title=\"update\">\r\n                        <img src=${editIcon} class=\"updateBook\" alt=\"update icon\">\r\n                    </a>\r\n                    &nbsp;\r\n                    <a class=\"text-decoration-none text-dark fw-bold\" data-bs-toggle=\"modal\" data-bs-target=\"#confirmDelete\" href=\"#\" title=\"delete\">\r\n                        <img src=${deleteIcon} class=\"deleteBook\" alt=\"Delete icon\">\r\n                    </a>\r\n                </td>\r\n                `;\r\n            bookList.appendChild(row);\r\n        });\r\n    }\r\n    static addBook(newBook) {\r\n        const books = Store.getBooks();\r\n        books.push(newBook);\r\n        localStorage.setItem('books', JSON.stringify(books));\r\n    }\r\n    static removeBook(count) {\r\n        const books = Store.getBooks();\r\n        books.forEach((book, index) => {\r\n            if (book.count === +count) {\r\n                books.splice(index, 1);\r\n            }\r\n        });\r\n        localStorage.setItem('books', JSON.stringify(books));\r\n    }\r\n\r\n    static updatebook(title, author, genres, count) {\r\n        const books = Store.getBooks();\r\n        books.forEach(book => {\r\n            if (book.count === +count) {\r\n                book.title = title;\r\n                book.author = author;\r\n                book.genres = genres;\r\n            }\r\n        });\r\n        localStorage.setItem('books', JSON.stringify(books));\r\n    }\r\n\r\n    // initial book count\r\n    static initBookCount() {\r\n        const booksLeft = 36 - booksCount.length;\r\n        if (booksLeft < 36) booksLeftEl.textContent = `${booksLeft} ${booksLeft !== 1 ? 'books' : 'book'} left`;\r\n        if (booksLeft <= 0) {\r\n            booksLeftEl.textContent === 'Congratulations, You did it';\r\n            addBookForm.classList.add('d-none');\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// EVENT LISTENERS\r\n\r\n// DOM load event\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    Store.initBookCount();\r\n    Store.displayBooks();\r\n\r\n});\r\n\r\n// Add book event listener\r\naddBookForm.addEventListener('submit', function (e) {\r\n\r\n    e.preventDefault();\r\n\r\n    // form values\r\n    const title = document.getElementById('title').value.trim();\r\n    const author = document.getElementById('author').value.trim();\r\n    const genres = document.getElementById('genres').value.trim();\r\n\r\n    // add ui instance\r\n    const UI = new BookUI();\r\n\r\n    // check if empty values\r\n    if (title === '' || author === '' || genres === '') {\r\n        UI.showMsg('error', 'Please fill in all the fields');\r\n        setTimeout(() => UI.showMsg('clear'), 2000);\r\n        return;\r\n    }\r\n\r\n    // clear msg errors\r\n    UI.showMsg('clear');\r\n\r\n    // count\r\n    let count;\r\n    booksCount = document.getElementsByClassName('book-row');\r\n\r\n    // check if book already exists\r\n    const bookRows = Array.from(booksCount);\r\n    const result = bookRows.find(row => row.children[0].textContent.toLocaleLowerCase() === title.toLocaleLowerCase() && row.children[1].textContent.toLocaleLowerCase() === author.toLocaleLowerCase());\r\n\r\n    if (result) {\r\n        UI.showMsg('error', 'You already added this book');\r\n        setTimeout(() => UI.showMsg('clear'), 2000);\r\n        return;\r\n    }\r\n\r\n    if (booksCount.length === 0) {\r\n        count = 1;\r\n    } else {\r\n        const lastBook = booksCount[booksCount.length - 1];\r\n        if (lastBook.children[3].textContent !== 'Done') {\r\n            UI.showMsg('error', 'You need to finish current book');\r\n            setTimeout(() => UI.showMsg('clear'), 3000);\r\n            return;\r\n        }\r\n        const lastId = +lastBook.id.split('-')[2];\r\n        count = lastId + 1;\r\n    }\r\n\r\n    // Add book instance\r\n    const book = new Book(title, author, genres, count);\r\n\r\n    // add book to list using UI class\r\n    UI.addBookToList(book);\r\n\r\n    // show succes msg\r\n    UI.showMsg('success', 'Book added successfully');\r\n    setTimeout(() => UI.showMsg('clear'), 2000);\r\n\r\n    // clear fields\r\n    addBookForm.reset();\r\n\r\n});\r\n\r\n// Update book event listener\r\nupdateBookForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    const title = document.getElementById('titleUp').value.trim();\r\n    const author = document.getElementById('authorUp').value.trim();\r\n    const genres = document.getElementById('genresUp').value.trim();\r\n    const rowId = document.getElementById('book-hidden-id').value.trim();\r\n\r\n    // add ui instance\r\n    const UI = new BookUI();\r\n\r\n    // check if empty values\r\n    if (title === '' || author === '' || genres === '') {\r\n        UI.showMsg('error', 'Please fill in all the fields');\r\n        setTimeout(() => UI.showMsg('clear'), 2000);\r\n        return;\r\n    }\r\n\r\n    // clear msg errors\r\n    UI.showMsg('clear');\r\n\r\n    // find the row\r\n    booksCount = document.getElementsByClassName('book-row');\r\n    const bookRows = Array.from(booksCount);\r\n    const row = bookRows.find(row => row.id === rowId);\r\n\r\n    // update it\r\n    row.children[0].textContent = title;\r\n    row.children[1].textContent = author;\r\n    row.children[2].textContent = genres;\r\n\r\n    // update in LS\r\n    Store.updatebook(title, author, genres, row.id.split('-')[2]);\r\n\r\n    // show update msg \r\n    UI.showMsg('success', 'Updated successfully');\r\n    setTimeout(() => UI.showMsg('clear'), 2000);\r\n    // reset form\r\n    updateBookForm.reset();\r\n    // hide it\r\n    updateBookForm.classList.add('d-none');\r\n    addBookForm.classList.remove('d-none');\r\n\r\n});\r\n\r\n// cancel update event listener\r\ncancelUpdateBtn.addEventListener('click', function (e) {\r\n    e.preventDefault();\r\n    updateBookForm.reset();\r\n    updateBookForm.classList.add('d-none');\r\n    addBookForm.classList.remove('d-none');\r\n});\r\n\r\n\r\n\r\n\r\n// event listener for DELETE Update BOOK\r\nbookList.addEventListener('click', (e) => {\r\n    // delete book\r\n    if (e.target.classList.contains('deleteBook')) {\r\n        // add ui instance\r\n        const UI = new BookUI();\r\n        // call delete\r\n        UI.removeBook(e.target);\r\n    }\r\n    // update book\r\n    if (e.target.classList.contains('updateBook')) {\r\n        // show update form\r\n        addBookForm.classList.add('d-none');\r\n        updateBookForm.classList.remove('d-none');\r\n        // get details\r\n        const bookRow = e.target.closest('.book-row');\r\n        const id = bookRow.id;\r\n        const UI = new BookUI();\r\n        UI.getDetails(bookRow, id);\r\n    }\r\n    if (e.target.classList.contains('bookDone')) {\r\n        const bookRow = e.target.closest('.book-row');\r\n        bookRow.children[3].innerHTML = 'Done';\r\n        // show update and delete buttons\r\n        const links = Array.from(bookRow.children[4].children);\r\n        links.forEach(link => link.classList.remove('d-none'));\r\n\r\n        const title = bookRow.children[0].textContent;\r\n        const author = bookRow.children[1].textContent;\r\n        const genres = bookRow.children[2].textContent;\r\n        const count = +bookRow.id.split('-')[2];\r\n        const book = new Book(title, author, genres, count);\r\n        // Add to LS\r\n        Store.addBook(book);\r\n        // show back form\r\n        addBookForm.classList.remove('d-none');\r\n    }\r\n    if (e.target.classList.contains('wait')) {\r\n        // add ui instance\r\n        const UI = new BookUI();\r\n        UI.bookTimer(2, 1000);\r\n\r\n    }\r\n});\r\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$86517e8dfb29f11b$exports","getBundleURL","resolve","$a3c91c00200afe9d$exports","$f379cdbce4ad10c8$exports","$d0615a3ddfe230d0$exports","$81cdcb03b6ee87e9$var$addBookForm","document","querySelector","$81cdcb03b6ee87e9$var$updateBookForm","$81cdcb03b6ee87e9$var$cancelUpdateBtn","$81cdcb03b6ee87e9$var$formAlert","$81cdcb03b6ee87e9$var$bookList","$81cdcb03b6ee87e9$var$confirmDelBtn","getElementsByClassName","$81cdcb03b6ee87e9$var$booksLeftEl","$81cdcb03b6ee87e9$var$booksCount","$81cdcb03b6ee87e9$var$Book","constructor","title","author","genres","count","this","$81cdcb03b6ee87e9$var$BookUI","addBookToList","book","row","createElement","classList","innerHTML","$parcel$interopDefault","appendChild","bookTimer","UpdateBookCount","add","showMsg","status","msg","textContent","remove","removeBook","target","contains","addEventListener","closest","$81cdcb03b6ee87e9$var$Store","split","setTimeout","booksLeft","getDetails","bookRow","children","getElementById","daysLeft","delay","daysLeftEl","countDown","timer","setInterval","clearInterval","static","books","localStorage","getItem","getBooks","forEach","newBook","push","setItem","stringify","index","splice","initBookCount","displayBooks","e","preventDefault","trim","UI","Array","from","find","toLocaleLowerCase","lastBook","reset","rowId","updatebook","link","addBook"],"version":3,"file":"index.aa4a366f.js.map"}